#include <stdio.h>
#include <unistd.h>

void sender(int framesToSend) {
    for (int i = 1; i <= framesToSend; i++) {
        printf("Sender: Sending frame %d\n", i);
        usleep(200000); // Simulate transmission time
        printf("Sender: Waiting for ACK for frame %d\n", i);
        usleep(200000); // Simulate ACK transmission time
        printf("Sender: ACK received for frame %d\n", i);
    }
}

void receiver(int framesToReceive) {
    for (int i = 1; i <= framesToReceive; i++) {
        printf("Receiver: Frame %d received successfully\n", i);
        usleep(200000); // Simulate ACK transmission time
        printf("Receiver: ACK sent for frame %d\n", i);
    }
}

int main() {
    int frames = 5; // Number of frames to send/receive

    // Start sender and receiver
    sender(frames);
    receiver(frames);

    return 0;
}
